<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telugu Movie Recommender - AI Powered</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navbar */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo i {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: #667eea;
        }

        .login-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white !important;
            padding: 8px 20px;
            border-radius: 25px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), 
                        url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            padding: 4rem 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        /* Main Content */
        .main-content {
            background: white;
            padding: 3rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 2rem;
            color: #333;
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 10px auto;
            border-radius: 2px;
        }

        /* Genre Filter */
        .genre-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .filter-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            background: #f0f0f0;
            color: #666;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .filter-btn:hover {
            background: #e0e0e0;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        /* Movie Grid */
        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .movie-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: 1px solid #e0e0e0;
        }

        .movie-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .movie-poster {
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
        }

        .movie-poster i {
            opacity: 0.8;
        }

        .movie-info {
            padding: 1.5rem;
        }

        .movie-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .movie-year {
            color: #666;
            font-size: 0.9rem;
            display: inline-block;
            margin-right: 10px;
        }

        .movie-rating {
            color: #ffc107;
            font-weight: bold;
            display: inline-block;
        }

        .movie-genres {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }

        .genre-tag {
            background: #f0f0f0;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #666;
        }

        /* How It Works Section */
        .how-it-works {
            background: #f8f9fa;
            padding: 4rem 0;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .step {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .step i {
            font-size: 3rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .step h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        .step p {
            color: #666;
            line-height: 1.6;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 10px;
            max-width: 800px;
            width: 90%;
            position: relative;
            animation: modalFade 0.3s;
        }

        @keyframes modalFade {
            from {opacity: 0; transform: translateY(-50px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .close {
            position: absolute;
            right: 1.5rem;
            top: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: #666;
        }

        .close:hover {
            color: #333;
        }

        /* Movie Detail */
        .movie-detail {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        .movie-detail-poster {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 4rem;
            padding: 2rem;
        }

        .movie-detail-info h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .movie-detail-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            color: #666;
        }

        .movie-detail-rating {
            color: #ffc107;
            font-weight: bold;
        }

        .movie-detail-description {
            margin: 1.5rem 0;
            line-height: 1.6;
            color: #555;
        }

        .director, .cast {
            margin: 0.5rem 0;
            color: #666;
        }

        .cast span {
            display: inline-block;
            background: #f0f0f0;
            padding: 4px 10px;
            border-radius: 15px;
            margin: 5px;
            font-size: 0.9rem;
        }

        /* Trailer Section */
        .trailer-section {
            margin: 2rem 0;
        }

        .trailer-section h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        .trailer-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            border-radius: 10px;
            overflow: hidden;
            background: #000;
        }

        .trailer-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* OTT Platforms */
        .ott-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .ott-section h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        .ott-platforms {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .ott-btn {
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.3s;
        }

        .ott-btn:hover {
            transform: translateY(-3px);
        }

        .ott-btn.netflix { background: #e50914; }
        .ott-btn.prime { background: #00a8e1; }
        .ott-btn.hotstar { background: #1f2b3a; }
        .ott-btn.youtube { background: #ff0000; }
        .ott-btn.zee5 { background: #7200b7; }

        /* Similar Movies */
        .similar-movies {
            margin-top: 2rem;
        }

        .similar-movies h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        .similar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
        }

        .similar-card {
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
            text-align: center;
        }

        .similar-card:hover {
            transform: translateY(-5px);
        }

        .similar-card .poster {
            height: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
        }

        .similar-card .info {
            padding: 10px;
        }

        .similar-card .title {
            font-size: 0.9rem;
            margin-bottom: 5px;
            color: #333;
        }

        .similar-card .rating {
            font-size: 0.8rem;
            color: #ffc107;
        }

        /* Login Modal */
        .login-modal .modal-content {
            max-width: 400px;
        }

        .login-form {
            padding: 1rem;
        }

        .login-form h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: #333;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #666;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-submit {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .login-submit:hover {
            transform: translateY(-2px);
        }

        .forgot-password {
            text-align: center;
            margin-top: 1rem;
        }

        .forgot-password a {
            color: #667eea;
            text-decoration: none;
        }

        /* Footer */
        footer {
            background: #1a1a2e;
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #ffa36c;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: #b0b0b0;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: white;
        }

        .social-icons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-icons a {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .social-icons a:hover {
            background: #667eea;
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #b0b0b0;
        }

        /* Loading Spinner */
        .loading {
            text-align: center;
            padding: 2rem;
            display: none;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .movie-detail {
                grid-template-columns: 1fr;
            }
            
            .movie-detail-poster {
                min-height: 200px;
            }
            
            .ott-platforms {
                flex-direction: column;
            }
            
            .ott-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-film"></i>
                <span>Telugu Movie Recommender</span>
            </div>
            <div class="nav-links">
                <a href="#" class="active"><i class="fas fa-home"></i> Home</a>
                <a href="#recommendations"><i class="fas fa-star"></i> Recommendations</a>
                <a href="#genres"><i class="fas fa-filter"></i> Genres</a>
                <a href="#about"><i class="fas fa-info-circle"></i> About</a>
                <a href="#" class="login-btn" onclick="openLoginModal()"><i class="fas fa-user"></i> Login</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h1>Discover Your Next Favorite Telugu Movie</h1>
            <p>Our AI-powered recommendation system suggests Telugu films tailored to your taste. Watch official trailers and find where to stream legally.</p>
            <button class="btn" onclick="getPersonalizedRecommendations()">Get Personalized Recommendations</button>
        </div>
    </section>

    <!-- Main Content -->
    <section class="main-content" id="recommendations">
        <div class="container">
            <h2 class="section-title" id="sectionTitle">Popular Telugu Movies</h2>
            
            <!-- Genre Filter -->
            <div class="genre-filter" id="genreFilter">
                <!-- Will be populated by JavaScript -->
            </div>

            <!-- Loading Spinner -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Finding the best movies for you...</p>
            </div>

            <!-- Movie Grid -->
            <div class="movie-grid" id="movieGrid">
                <!-- Movies will be displayed here -->
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="about">
        <div class="container">
            <h2 class="section-title">How Our Recommendation System Works</h2>
            <div class="steps">
                <div class="step">
                    <i class="fas fa-user-circle"></i>
                    <h3>User Profile</h3>
                    <p>We analyze your preferences, watch history, and ratings to understand your taste.</p>
                </div>
                <div class="step">
                    <i class="fas fa-brain"></i>
                    <h3>AI Processing</h3>
                    <p>Our machine learning algorithms process data to find patterns and similarities.</p>
                </div>
                <div class="step">
                    <i class="fas fa-film"></i>
                    <h3>Personalized Results</h3>
                    <p>We recommend movies that match your preferences and introduce you to new favorites.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-film"></i> Telugu Movie Recommender</h3>
                    <p>Your AI-powered guide to the best of Telugu cinema.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#recommendations">Recommendations</a></li>
                        <li><a href="#genres">Genres</a></li>
                        <li><a href="#about">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Genres</h3>
                    <ul>
                        <li><a href="#" onclick="filterByGenre('Action')">Action</a></li>
                        <li><a href="#" onclick="filterByGenre('Drama')">Drama</a></li>
                        <li><a href="#" onclick="filterByGenre('Romance')">Romance</a></li>
                        <li><a href="#" onclick="filterByGenre('Comedy')">Comedy</a></li>
                        <li><a href="#" onclick="filterByGenre('Thriller')">Thriller</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Streaming Partners</h3>
                    <ul>
                        <li><i class="fab fa-netflix"></i> Netflix</li>
                        <li><i class="fab fa-amazon"></i> Prime Video</li>
                        <li><i class="fas fa-tv"></i> Hotstar</li>
                        <li><i class="fab fa-youtube"></i> YouTube</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 Telugu Movie Recommender. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Movie Detail Modal -->
    <div class="modal" id="movieModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('movieModal')">&times;</span>
            <div id="movieDetailContent">
                <!-- Movie details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal login-modal" id="loginModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <div class="login-form">
                <h2><i class="fas fa-user"></i> Login to Telugu Movie Recommender</h2>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Email</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="password"><i class="fas fa-lock"></i> Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="login-submit">Login</button>
                    <div class="forgot-password">
                        <a href="#">Forgot Password?</a> | <a href="#" onclick="alert('Sign up feature coming soon!')">Sign Up</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // ==================== MOVIE DATASET (20 TELUGU MOVIES) ====================
        const movies = [
            {
                id: 1,
                title: "Baahubali: The Beginning",
                year: 2015,
                rating: 8.2,
                genres: ["Action", "Drama", "Fantasy"],
                description: "In the kingdom of Mahishmati, while pursuing his love, Shivudu learns about the conflict-ridden past of his family and his legacy. He must now prepare himself to face his newfound archenemy.",
                director: "S.S. Rajamouli",
                cast: ["Prabhas", "Rana Daggubati", "Anushka Shetty", "Tamannaah"],
                trailerId:"https://www.youtube.com/embed/3NQRhE772b0?si=2xgHwVM0xrdZDM9s" ,
                streaming: ["Netflix", "Prime Video", "Hotstar"],
                features: {action: 0.9, drama: 0.8, fantasy: 0.9, romance: 0.5, comedy: 0.2, thriller: 0.7}
            },
            {
                id: 2,
                title: "Baahubali: The Conclusion",
                year: 2017,
                rating: 8.0,
                genres: ["Action", "Drama", "War"],
                description: "When Shiva, the son of Bahubali, learns about his heritage, he begins to look for answers. His story is juxtaposed with past events that unfolded in the Mahishmati Kingdom.",
                director: "S.S. Rajamouli",
                cast: ["Prabhas", "Rana Daggubati", "Anushka Shetty", "Tamannaah"],
                trailerId: "https://www.youtube.com/embed/qD-6d8Wo3do?si=fd-l8iqtQMoO4CBQ",
                streaming: ["Netflix", "Prime Video", "Hotstar"],
                features: {action: 0.9, drama: 0.8, fantasy: 0.7, romance: 0.5, comedy: 0.2, thriller: 0.8}
            },
            {
                id: 3,
                title: "Mahanati",
                year: 2018,
                rating: 8.6,
                genres: ["Drama", "Biography"],
                description: "The life of Savitri, an actress from South Indian cinema, who ruled the industry for two decades during the 50s and 60s.",
                director: "Nag Ashwin",
                cast: ["Keerthy Suresh", "Dulquer Salmaan", "Samantha Ruth Prabhu"],
                trailerId:"https://www.youtube.com/embed/OrnYMmWBuV4?si=9eOdHU-x1pWX7UiT" ,
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.1, drama: 0.9, fantasy: 0.1, romance: 0.6, comedy: 0.2, thriller: 0.3}
            },
            {
                id: 4,
                title: "Jersey",
                year: 2019,
                rating: 8.5,
                genres: ["Drama", "Sports"],
                description: "A failed cricketer decides to revive his cricketing career in his late 30s despite everyone being skeptical of his ability to do so.",
                director: "Gowtam Tinnanuri",
                cast: ["Nani", "Shraddha Srinath", "Sathyaraj"],
                trailerId: "https://www.youtube.com/embed/AjAe_Q1WZ_8?si=dseyTECNwgI2o049",
                streaming: ["Netflix", "Prime Video", "Hotstar"],
                features: {action: 0.3, drama: 0.9, fantasy: 0.1, romance: 0.4, comedy: 0.2, thriller: 0.4}
            },
            {
                id: 5,
                title: "Pushpa: The Rise",
                year: 2021,
                rating: 7.6,
                genres: ["Action", "Drama", "Thriller"],
                description: "A labourer rises through the ranks of a red sandalwood smuggling syndicate, making some powerful enemies in the process.",
                director: "Sukumar",
                cast: ["Allu Arjun", "Rashmika Mandanna", "Fahadh Faasil"],
                trailerId: "https://www.youtube.com/embed/Q1NKMPhP8PY?si=RxuGS4gMckQ_eT_D",
                streaming: ["Prime Video", "Netflix"],
                features: {action: 0.8, drama: 0.7, fantasy: 0.2, romance: 0.4, comedy: 0.3, thriller: 0.8}
            },
            {
                id: 6,
                title: "RRR",
                year: 2022,
                rating: 8.0,
                genres: ["Action", "Drama", "Period"],
                description: "A fictitious story about two legendary revolutionaries and their journey away from home before they started fighting for their country in the 1920s.",
                director: "S.S. Rajamouli",
                cast: ["N.T. Rama Rao Jr.", "Ram Charan", "Alia Bhatt", "Ajay Devgn"],
                trailerId: "https://www.youtube.com/embed/NgBoMJy386M?si=HAumyvYeUkvdxLmC",
                streaming: ["Netflix", "ZEE5"],
                features: {action: 0.9, drama: 0.8, fantasy: 0.4, romance: 0.4, comedy: 0.3, thriller: 0.7}
            },
            {
                id: 7,
                title: "Magadheera",
                year: 2009,
                rating: 7.7,
                genres: ["Action", "Fantasy", "Romance"],
                description: "A stuntman falls in love with a woman who is the reincarnation of a princess he loved in his past life, but a warrior from his past life returns to separate them.",
                director: "S.S. Rajamouli",
                cast: ["Ram Charan", "Kajal Aggarwal", "Dev Gill"],
                trailerId: "https://www.youtube.com/embed/NXfhuqDNxg4?si=j8qqAXRDKqlRtqjL",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.8, drama: 0.6, fantasy: 0.8, romance: 0.8, comedy: 0.3, thriller: 0.5}
            },
            {
                id: 8,
                title: "Fidaa",
                year: 2017,
                rating: 7.9,
                genres: ["Romance", "Drama"],
                description: "Varun is an NRI who visits his sister in a village in Telangana and falls in love with Bhanumathi, a vivacious and independent girl.",
                director: "Sekhar Kammula",
                cast: ["Varun Tej", "Sai Pallavi"],
                trailerId: "https://www.youtube.com/embed/AVtvjfoXNXc?si=RhAJ3SL4_H2xFz52",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.1, drama: 0.7, fantasy: 0.1, romance: 0.9, comedy: 0.5, thriller: 0.2}
            },
            {
                id: 9,
                title: "Sita Ramam",
                year: 2022,
                rating: 8.8,
                genres: ["Romance", "Drama", "Period"],
                description: "An orphan soldier, Lieutenant Ram, falls in love with Sita, a woman who writes him letters. He then embarks on a mission to find her and propose his love.",
                director: "Hanu Raghavapudi",
                cast: ["Dulquer Salmaan", "Mrunal Thakur", "Rashmika Mandanna"],
                trailerId:"https://www.youtube.com/embed/Ljk6tGZ1l3A?si=HMUiB02c9-k5NRhg" ,
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.2, drama: 0.9, fantasy: 0.3, romance: 0.9, comedy: 0.2, thriller: 0.3}
            },
            {
                id: 10,
                title: "Vikramarkudu",
                year: 2006,
                rating: 8.1,
                genres: ["Action", "Comedy", "Thriller"],
                description: "A carefree thief impersonates a police officer to make easy money, but ends up becoming a real hero in the process.",
                director: "S.S. Rajamouli",
                cast: ["Ravi Teja", "Anushka Shetty", "Brahmanandam"],
                trailerId: "https://www.youtube.com/embed/zkKGloHo-kI?si=ihOQwed0plbtSffd",
                streaming: ["Prime Video", "YouTube"],
                features: {action: 0.8, drama: 0.5, fantasy: 0.1, romance: 0.4, comedy: 0.8, thriller: 0.7}
            },
            {
                id: 11,
                title: "Arjun Reddy",
                year: 2017,
                rating: 8.0,
                genres: ["Drama", "Romance"],
                description: "Arjun Reddy, a short-tempered house surgeon, gets used to drugs and drink when his girlfriend is forced to marry another man.",
                director: "Sandeep Reddy Vanga",
                cast: ["Vijay Deverakonda", "Shalini Pandey", "Jia Sharma"],
                trailerId: "https://www.youtube.com/embed/aozErj9NqeE?si=HEiCC-fmyD3uNam8" ,
                streaming: ["Prime Video", "Netflix"],
                features: {action: 0.2, drama: 0.9, fantasy: 0.1, romance: 0.8, comedy: 0.3, thriller: 0.5}
            },
            {
                id: 12,
                title: "Ala Vaikunthapurramuloo",
                year: 2020,
                rating: 7.6,
                genres: ["Action", "Comedy", "Drama"],
                description: "Bantu grows up being constantly subjected to his father's scorn. However, he soon learns that he is not his biological son and his real father is a multi-millionaire.",
                director: "Trivikram Srinivas",
                cast: ["Allu Arjun", "Pooja Hegde", "Tabu"],
                trailerId: "https://www.youtube.com/embed/rvzWljqIRyU?si=uSJqvg4MjKHzyeP5",
                streaming: ["Netflix", "Hotstar"],
                features: {action: 0.7, drama: 0.7, fantasy: 0.2, romance: 0.5, comedy: 0.8, thriller: 0.4}
            },
            {
                id: 13,
                title: "Rangasthalam",
                year: 2018,
                rating: 8.4,
                genres: ["Drama", "Action", "Period"],
                description: "Chitti Babu, a man with hearing impairment, returns to his village and gets caught up in a political battle between his elder brother and a local landlord.",
                director: "Sukumar",
                cast: ["Ram Charan", "Samantha Ruth Prabhu", "Aadhi Pinisetty"],
                trailerId: "https://www.youtube.com/embed/sueMmTm-M4Y?si=lSMKWrgQmpQAAfg8",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.7, drama: 0.9, fantasy: 0.1, romance: 0.6, comedy: 0.4, thriller: 0.6}
            },
            {
                id: 14,
                title: "Eega",
                year: 2012,
                rating: 7.9,
                genres: ["Fantasy", "Action", "Thriller"],
                description: "A murdered man is reincarnated as a housefly and seeks to avenge his death on the murderer.",
                director: "S.S. Rajamouli",
                cast: ["Nani", "Samantha Ruth Prabhu", "Sudeep"],
                trailerId: "https://www.youtube.com/embed/x-1ZoU1xB4I?si=kv3bQcaSdlu8NTHp",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.8, drama: 0.5, fantasy: 0.9, romance: 0.4, comedy: 0.5, thriller: 0.8}
            },
            {
                id: 15,
                title: "Aravinda Sametha",
                year: 2018,
                rating: 7.5,
                genres: ["Action", "Drama"],
                description: "A young man seeks revenge for his father's death but realizes the cycle of violence must end.",
                director: "Trivikram Srinivas",
                cast: ["N.T. Rama Rao Jr.", "Pooja Hegde", "Jagapathi Babu"],
                trailerId: "https://www.youtube.com/embed/dNMe5oRfsCE?si=1xmFphBVVTCDM-7t",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.7, drama: 0.8, fantasy: 0.1, romance: 0.5, comedy: 0.3, thriller: 0.5}
            },
            {
                id: 16,
                title: "Geetha Govindam",
                year: 2018,
                rating: 7.7,
                genres: ["Romance", "Comedy"],
                description: "A young lecturer falls in love with a woman who misunderstands him, leading to a series of comedic situations.",
                director: "Parasuram",
                cast: ["Vijay Deverakonda", "Rashmika Mandanna"],
                trailerId: "https://www.youtube.com/embed/E-wKLfdvOhU?si=za5jAMS7kMjdNsi3",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.1, drama: 0.5, fantasy: 0.1, romance: 0.9, comedy: 0.8, thriller: 0.1}
            },
            {
                id: 17,
                title: "Sahoo",
                year: 2019,
                rating: 5.5,
                genres: ["Action", "Thriller"],
                description: "A high-profile heist turns into a battle between two rival gangs, with an undercover cop caught in the middle.",
                director: "Sujeeth",
                cast: ["Prabhas", "Shraddha Kapoor", "Jackie Shroff"],
                trailerId: "https://www.youtube.com/embed/HNnt00swZ5Q?si=AF36tdgObOzknhV2",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.9, drama: 0.5, fantasy: 0.2, romance: 0.5, comedy: 0.2, thriller: 0.7}
            },
            {
                id: 18,
                title: "Bharat Ane Nenu",
                year: 2018,
                rating: 7.8,
                genres: ["Action", "Drama"],
                description: "A young man becomes the Chief Minister of Andhra Pradesh and fights against corruption.",
                director: "Koratala Siva",
                cast: ["Mahesh Babu", "Kiara Advani", "Prakash Raj"],
                trailerId: "https://www.youtube.com/embed/IvSoRWkaKn4?si=GpVknij-_x6XPu2C",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.6, drama: 0.8, fantasy: 0.1, romance: 0.5, comedy: 0.3, thriller: 0.5}
            },
            {
                id: 19,
                title: "Goodachari",
                year: 2018,
                rating: 8.1,
                genres: ["Action", "Thriller", "Spy"],
                description: "A young NSA agent's past comes back to haunt him when he's framed for a murder he didn't commit.",
                director: "Sashi Kiran Tikka",
                cast: ["Adivi Sesh", "Sobhita Dhulipala", "Jagapathi Babu"],
                trailerId: "https://www.youtube.com/embed/lysoF97MOMk?si=WPJeZZVRbUxhQKOn",
                streaming: ["Prime Video", "Hotstar"],
                features: {action: 0.8, drama: 0.6, fantasy: 0.1, romance: 0.4, comedy: 0.2, thriller: 0.9}
            },
            {
                id: 20,
                title: "Jathi Ratnalu",
                year: 2021,
                rating: 7.8,
                genres: ["Comedy", "Drama"],
                description: "Three prisoners released from jail get into a series of misadventures and become celebrities.",
                director: "Anudeep KV",
                cast: ["Naveen Polishetty", "Rahul Ramakrishna", "Priyadarshi"],
                trailerId: "https://www.youtube.com/embed/Hgc07_BX4_8?si=EuN5Gm7I1aBd6NUE",
                streaming: ["Prime Video"],
                features: {action: 0.2, drama: 0.5, fantasy: 0.1, romance: 0.3, comedy: 0.9, thriller: 0.2}
            }
        ];

        // ==================== MACHINE LEARNING RECOMMENDATION ENGINE ====================
        class MovieRecommender {
            constructor(movies) {
                this.movies = movies;
                this.userProfile = {
                    action: 0.5,
                    drama: 0.5,
                    fantasy: 0.5,
                    romance: 0.5,
                    comedy: 0.5,
                    thriller: 0.5
                };
                this.watchHistory = [];
            }

            // Calculate similarity between two movies using cosine similarity
            calculateSimilarity(movieA, movieB) {
                const features = ['action', 'drama', 'fantasy', 'romance', 'comedy', 'thriller'];
                let dotProduct = 0;
                let magA = 0;
                let magB = 0;
                
                features.forEach(f => {
                    dotProduct += movieA.features[f] * movieB.features[f];
                    magA += movieA.features[f] * movieA.features[f];
                    magB += movieB.features[f] * movieB.features[f];
                });
                
                magA = Math.sqrt(magA);
                magB = Math.sqrt(magB);
                
                if (magA === 0 || magB === 0) return 0;
                return dotProduct / (magA * magB);
            }

            // Get similar movies based on content
            getSimilarMovies(movieId, limit = 4) {
                const targetMovie = this.movies.find(m => m.id === movieId);
                if (!targetMovie) return [];
                
                const scored = this.movies
                    .filter(m => m.id !== movieId)
                    .map(m => ({
                        movie: m,
                        score: this.calculateSimilarity(targetMovie, m)
                    }))
                    .sort((a, b) => b.score - a.score)
                    .slice(0, limit);
                
                return scored.map(s => s.movie);
            }

            // Update user profile based on watched movies
            updateProfile(watchedMovies) {
                if (watchedMovies.length === 0) return;
                
                // Reset profile
                Object.keys(this.userProfile).forEach(key => {
                    this.userProfile[key] = 0;
                });
                
                // Aggregate features from watched movies
                watchedMovies.forEach(movieId => {
                    const movie = this.movies.find(m => m.id === movieId);
                    if (movie) {
                        Object.keys(movie.features).forEach(feature => {
                            this.userProfile[feature] += movie.features[feature];
                        });
                    }
                });
                
                // Average the features
                Object.keys(this.userProfile).forEach(key => {
                    this.userProfile[key] /= watchedMovies.length;
                });
            }

            // Get personalized recommendations based on user profile
            getPersonalizedRecommendations(limit = 8) {
                const scored = this.movies.map(movie => {
                    let score = 0;
                    Object.keys(this.userProfile).forEach(feature => {
                        score += movie.features[feature] * this.userProfile[feature];
                    });
                    return { movie, score };
                });
                
                scored.sort((a, b) => b.score - a.score);
                return scored.slice(0, limit).map(s => s.movie);
            }

            // Filter by genre
            filterByGenre(genre) {
                if (genre === 'All') return this.movies;
                return this.movies.filter(movie => movie.genres.includes(genre));
            }

            // Search movies
            searchMovies(query) {
                const q = query.toLowerCase();
                return this.movies.filter(movie => 
                    movie.title.toLowerCase().includes(q) ||
                    movie.genres.some(g => g.toLowerCase().includes(q)) ||
                    movie.director.toLowerCase().includes(q) ||
                    movie.cast.some(c => c.toLowerCase().includes(q))
                );
            }
        }

        // Initialize recommender
        const recommender = new MovieRecommender(movies);
        let currentFilter = 'All';

        // ==================== DOM ELEMENTS ====================
        const movieGrid = document.getElementById('movieGrid');
        const genreFilter = document.getElementById('genreFilter');
        const sectionTitle = document.getElementById('sectionTitle');
        const loading = document.getElementById('loading');
        const movieModal = document.getElementById('movieModal');
        const movieDetailContent = document.getElementById('movieDetailContent');
        const loginModal = document.getElementById('loginModal');

        // ==================== GENRE FILTER ====================
        const allGenres = ['All', 'Action', 'Drama', 'Romance', 'Comedy', 'Thriller', 'Fantasy', 'Biography', 'Sports', 'War', 'Period', 'Spy'];
        
        allGenres.forEach(genre => {
            const btn = document.createElement('button');
            btn.className = `filter-btn ${genre === 'All' ? 'active' : ''}`;
            btn.textContent = genre;
            btn.onclick = () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = genre;
                showLoading();
                setTimeout(() => {
                    const filtered = recommender.filterByGenre(genre);
                    displayMovies(filtered);
                    sectionTitle.textContent = genre === 'All' ? 'Popular Telugu Movies' : `${genre} Movies`;
                    hideLoading();
                }, 500);
            };
            genreFilter.appendChild(btn);
        });

        // ==================== DISPLAY MOVIES ====================
        function displayMovies(moviesToShow) {
            movieGrid.innerHTML = '';
            
            if (moviesToShow.length === 0) {
                movieGrid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 40px;">No movies found in this category.</p>';
                return;
            }
            
            moviesToShow.forEach(movie => {
                const card = document.createElement('div');
                card.className = 'movie-card';
                card.onclick = () => showMovieDetails(movie.id);
                
                card.innerHTML = `
                    <div class="movie-poster">
                        <i class="fas fa-film"></i>
                    </div>
                    <div class="movie-info">
                        <h3 class="movie-title">${movie.title}</h3>
                        <div>
                            <span class="movie-year">${movie.year}</span>
                            <span class="movie-rating">★ ${movie.rating}/10</span>
                        </div>
                        <div class="movie-genres">
                            ${movie.genres.map(g => `<span class="genre-tag">${g}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                movieGrid.appendChild(card);
            });
        }

        // ==================== SHOW MOVIE DETAILS ====================
        function showMovieDetails(movieId) {
            const movie = movies.find(m => m.id === movieId);
            if (!movie) return;
            
            const similarMovies = recommender.getSimilarMovies(movieId, 4);
            
            // Add to watch history
            if (!recommender.watchHistory.includes(movieId)) {
                recommender.watchHistory.push(movieId);
                if (recommender.watchHistory.length > 5) recommender.watchHistory.shift();
                recommender.updateProfile(recommender.watchHistory);
            }
            
            movieDetailContent.innerHTML = `
                <div class="movie-detail">
                    <div class="movie-detail-poster">
                        <i class="fas fa-film"></i>
                    </div>
                    <div class="movie-detail-info">
                        <h2>${movie.title}</h2>
                        <div class="movie-detail-meta">
                            <span>${movie.year}</span>
                            <span class="movie-detail-rating">★ ${movie.rating}/10</span>
                        </div>
                        <div class="movie-genres">
                            ${movie.genres.map(g => `<span class="genre-tag">${g}</span>`).join('')}
                        </div>
                        
                        <p class="movie-detail-description">${movie.description}</p>
                        
                        <div class="director"><strong>Director:</strong> ${movie.director}</div>
                        <div class="cast"><strong>Cast:</strong> ${movie.cast.map(c => `<span>${c}</span>`).join(' ')}</div>
                        
                        <!-- Trailer Section -->
                        <div class="trailer-section">
                            <h3><i class="fab fa-youtube"></i> Official Trailer</h3>
                            <div class="trailer-container">
                                <iframe class="trailer-iframe" 
                                    src="https://www.youtube.com/embed/${movie.trailerId}?rel=0&modestbranding=1&autoplay=0" 
                                    title="${movie.title} Trailer"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen>
                                </iframe>
                            </div>
                        </div>
                        
                        <!-- OTT Platforms -->
                        <div class="ott-section">
                            <h3><i class="fas fa-tv"></i> Where to Watch</h3>
                            <div class="ott-platforms">
                                ${movie.streaming.map(platform => {
                                    let cls = '';
                                    let icon = '';
                                    if (platform.includes('Netflix')) { cls = 'netflix'; icon = 'fab fa-netflix'; }
                                    else if (platform.includes('Prime')) { cls = 'prime'; icon = 'fab fa-amazon'; }
                                    else if (platform.includes('Hotstar')) { cls = 'hotstar'; icon = 'fas fa-tv'; }
                                    else if (platform.includes('YouTube')) { cls = 'youtube'; icon = 'fab fa-youtube'; }
                                    else if (platform.includes('ZEE5')) { cls = 'zee5'; icon = 'fas fa-play'; }
                                    
                                    return `<a href="#" class="ott-btn ${cls}" onclick="window.open('https://www.${platform.toLowerCase().replace(' ', '')}.com', '_blank')"><i class="${icon}"></i> ${platform}</a>`;
                                }).join('')}
                            </div>
                        </div>
                        
                        <!-- Similar Movies -->
                        ${similarMovies.length > 0 ? `
                        <div class="similar-movies">
                            <h3>Similar Movies You Might Like</h3>
                            <div class="similar-grid">
                                ${similarMovies.map(m => `
                                    <div class="similar-card" onclick="showMovieDetails(${m.id})">
                                        <div class="poster"><i class="fas fa-film"></i></div>
                                        <div class="info">
                                            <div class="title">${m.title}</div>
                                            <div class="rating">★ ${m.rating}</div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            movieModal.style.display = 'block';
        }

        // ==================== PERSONALIZED RECOMMENDATIONS ====================
        function getPersonalizedRecommendations() {
            if (recommender.watchHistory.length === 0) {
                // If no history, recommend based on average preferences
                const recommendations = movies.sort(() => 0.5 - Math.random()).slice(0, 8);
                displayMovies(recommendations);
                sectionTitle.textContent = 'Recommended For You';
                return;
            }
            
            showLoading();
            setTimeout(() => {
                const recommendations = recommender.getPersonalizedRecommendations(12);
                displayMovies(recommendations);
                sectionTitle.textContent = 'Personalized Recommendations For You';
                hideLoading();
                
                // Scroll to recommendations
                document.getElementById('recommendations').scrollIntoView({ behavior: 'smooth' });
            }, 1000);
        }

        // ==================== FILTER BY GENRE (for footer links) ====================
        function filterByGenre(genre) {
            const filterBtn = Array.from(document.querySelectorAll('.filter-btn')).find(b => b.textContent === genre);
            if (filterBtn) {
                filterBtn.click();
                document.getElementById('recommendations').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // ==================== LOADING FUNCTIONS ====================
        function showLoading() {
            loading.style.display = 'block';
            movieGrid.style.opacity = '0.5';
        }

        function hideLoading() {
            loading.style.display = 'none';
            movieGrid.style.opacity = '1';
        }

        // ==================== MODAL FUNCTIONS ====================
        function openLoginModal() {
            loginModal.style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email && password) {
                alert(`Welcome back, ${email}! Login successful.`);
                closeModal('loginModal');
            } else {
                alert('Please enter both email and password.');
            }
        }

        // ==================== INITIAL DISPLAY ====================
        document.addEventListener('DOMContentLoaded', () => {
            displayMovies(movies);
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === movieModal) movieModal.style.display = 'none';
                if (e.target === loginModal) loginModal.style.display = 'none';
            });
        });

        // Make functions global for onclick handlers
        window.showMovieDetails = showMovieDetails;
        window.getPersonalizedRecommendations = getPersonalizedRecommendations;
        window.filterByGenre = filterByGenre;
        window.openLoginModal = openLoginModal;
        window.closeModal = closeModal;
        window.handleLogin = handleLogin;
    </script>
</body>
</html>